{% extends 'admin_panel/base.html' %}

{% block content %}
<div class="max-w-2xl mx-auto space-y-6">

    <div class="flex items-center justify-between">
        <h2 class="text-2xl font-bold text-white">Edit Booking</h2>
        <a href="{% url 'comedy_bookings' %}" class="text-slate-400 hover:text-white transition-colors">
            <i class="fas fa-times text-xl"></i>
        </a>
    </div>

    <form method="POST" action=""
        class="bg-[#0f172a]/60 backdrop-blur-xl border border-white/5 rounded-2xl p-8 space-y-8">
        {% csrf_token %}

        <div class="grid grid-cols-2 gap-4 p-4 rounded-xl bg-white/[0.03] border border-white/5">
            <div>
                <label class="text-[10px] uppercase text-slate-500 font-bold">Booking ID</label>
                <p class="text-sky-400 font-mono">{{ booking.booking_id }}</p>
            </div>
            <div>
                <label class="text-[10px] uppercase text-slate-500 font-bold">Show</label>
                <p class="text-slate-200 truncate">{{ booking.comedy_show.title }}</p>
            </div>
        </div>

        <div class="space-y-6">
            <div class="space-y-2">
                <label class="text-xs font-semibold text-slate-300 uppercase tracking-wide">
                    Number of Tickets
                </label>
                <input type="number" name="number_of_tickets" value="{{ booking.number_of_tickets }}" min="1"
                    class="w-full bg-[#020617] border border-white/10 rounded-xl px-4 py-3 text-slate-200 focus:outline-none focus:border-amber-500/50 focus:ring-1 focus:ring-amber-500/50 transition-all placeholder:text-slate-600">
                <p class="text-[10px] text-slate-500">Changing tickets may affect the total price manually.</p>
            </div>

            <div class="space-y-2">
                <label class="text-xs font-semibold text-slate-300 uppercase tracking-wide">
                    Payment Status
                </label>
                <div class="relative">
                    <select name="payment_status"
                        class="w-full bg-[#020617] border border-white/10 rounded-xl px-4 py-3 text-slate-200 focus:outline-none focus:border-amber-500/50 focus:ring-1 focus:ring-amber-500/50 transition-all appearance-none cursor-pointer">
                        <option value="Paid" {% if booking.payment_status %}selected{% endif %}>Paid</option>
                        <option value="Pending" {% if not booking.payment_status %}selected{% endif %}>Pending</option>
                    </select>
                    <div class="absolute inset-y-0 right-0 flex items-center px-4 pointer-events-none text-slate-400">
                        <svg class="w-4 h-4 fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
                            <path
                                d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" />
                        </svg>
                    </div>
                </div>
            </div>
        </div>

        <div class="pt-4 flex items-center gap-4">
            <button type="submit"
                class="flex-1 bg-amber-500 text-slate-900 font-bold py-3 px-6 rounded-xl hover:bg-amber-400 transition-all shadow-[0_0_20px_rgba(245,158,11,0.2)]">
                Save Changes
            </button>
            <a href="{% url 'delete_comedy_show' booking.id %}"
                class="flex-1 text-center bg-white/5 text-slate-300 font-medium py-3 px-6 rounded-xl hover:bg-white/10 hover:text-white transition-all border border-white/10">
                Cancel
            </a>
        </div>
    </form>
</div>
{% endblock %}